<h2 mat-dialog-title>Receive Letter</h2>
<form [formGroup]="receivingForm" (ngSubmit)="receivingForm.valid && onSubmit()">
    <div mat-dialog-content class="mat-typography">
        <div>
            <mat-form-field class="full-width">
                <mat-label>Letter Type</mat-label>
                <mat-select formControlName="letterTypesId" name="letterTypesId" required>
                    <mat-option>Select Letter Type</mat-option>
                    <mat-option *ngFor="let lt of letterTypes" value={{lt.id}}>{{lt.name}}</mat-option>
                </mat-select>
                <mat-error *ngIf="receivingForm.get('letterTypesId')?.hasError('required')">Please choose a letter type</mat-error>
            </mat-form-field>
        </div>
        <div>
            <mat-form-field class="full-width">
                <mat-label>From</mat-label>
                <input matInput placeholder="From" formControlName="fromSender" name="from" required>
                <mat-error *ngIf="receivingForm.get('fromSender')?.hasError('required')">Please enter sender/from</mat-error>
            </mat-form-field>
        </div>
        <div>
            <mat-form-field class="full-width">
                <mat-label>Description</mat-label>
                <input matInput placeholder="Description" formControlName="description" name="description" 
                    required>
                <mat-error *ngIf="receivingForm.get('description')?.hasError('required')">Please enter letter description</mat-error>
            </mat-form-field>
        </div>
        <div class="flex-container">
            <mat-form-field class="almost-full-width">
                <mat-label>Date Start</mat-label>
                <input matInput [matDatepicker]="pickerDateStart" formControlName="eventDateStart" name="eventDateStart"
                    required>
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle matSuffix [for]="pickerDateStart"></mat-datepicker-toggle>
                <mat-datepicker #pickerDateStart></mat-datepicker>
                <mat-error *ngIf="receivingForm.get('eventDateStart')?.hasError('required')">Please enter date start</mat-error>
            </mat-form-field>
            <mat-form-field class="almost-full-width">
                <mat-label>Date End</mat-label>
                <input matInput [matDatepicker]="pickerDateEnd" formControlName="eventDateEnd" name="dateEnd" 
                    required>
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle matSuffix [for]="pickerDateEnd"></mat-datepicker-toggle>
                <mat-datepicker #pickerDateEnd></mat-datepicker>
                <mat-error *ngIf="receivingForm.get('eventDateEnd')?.hasError('required')">Please enter date end</mat-error>
            </mat-form-field>
        </div>
        <div>
            <mat-form-field class="full-width">
                <mat-label>Note</mat-label>
                <input matInput placeholder="Note" formControlName="note"  name="note" >
            </mat-form-field>
        </div>
        <div>
            <mat-form-field class="full-width">
                <mat-label>Contact no.</mat-label>
                <input matInput type="tel" placeholder="0999-999-9999" formControlName="contact" name="contactNo" 
                   required>
                <mat-error *ngIf="receivingForm.get('contact')?.hasError('required')">Please enter contact no.</mat-error>
            </mat-form-field>
        </div>

        <!-- Receiving personnel info -->
        <div>
            <mat-form-field class="full-width">
                <mat-label>Remarks</mat-label>
                <input matInput placeholder="Remarks" name="remarks" formControlName="remarks" >
            </mat-form-field>
        </div>
        <div class="flex-container">
            <mat-form-field class="almost-full-width">
                <mat-label>Received by</mat-label>
                <input matInput placeholder="Received by" formControlName="receivedBy" name="receivedBy" 
                    required>
                <mat-error *ngIf="receivingForm.get('receivedBy')?.hasError('required')">Please enter received by</mat-error>
            </mat-form-field>
            <mat-form-field class="almost-full-width">
                <mat-label>Date Received</mat-label>
                <input matInput [matDatepicker]="pickerDateReceived" formControlName="dateReceived"
                    name="dateReceived" required>
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle matSuffix [for]="pickerDateReceived"></mat-datepicker-toggle>
                <mat-datepicker #pickerDateReceived></mat-datepicker>
                <mat-error *ngIf="receivingForm.get('dateReceived')?.hasError('required')">Please enter received by</mat-error>
            </mat-form-field>
        </div>
        <!-- <h3>{{data.fromSender}}</h3> -->
    </div>
    <div mat-dialog-actions align="end">
        <button mat-flat-button class="color-primary" type="submit" *ngIf="!receivingForm.disabled" [class.spinner]="loading" [disabled]="loading"> Save</button>
        <button mat-flat-button class="color-success" type="button" (click)="onEdit()" *ngIf="receivingForm.disabled"> Edit</button>
        <button mat-button mat-dialog-close type="button">Cancel</button>
    </div>
</form>